import { Tetromino } from './Tetromino';
import { Point } from './Point';

/**
 * POSITION: 0 
 * +-----+-----+-----+-----+-----+-----+
 * |     | -2  | -1  |  0  | +1  | +2  |
 * +-----+-----+-----+-----+-----+-----+
 * | -2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | -1  |     |     |  x  |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * |  0  |     |     |  x  |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +1  |     |  x  |  x  |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 */ 
const J_P0 = [
    new Point(0,-1),
    new Point(0,0),
    new Point(0,1),
    new Point(-1,1),
];

/**
 * POSITION: 1 (Snowwhite)
 * +-----+-----+-----+-----+-----+-----+
 * |     | -2  | -1  |  0  | +1  | +2  |
 * +-----+-----+-----+-----+-----+-----+
 * | -2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | -1  |     |  x  |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * |  0  |     |  x  |  x  |  x  |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +1  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 */
const J_P1 = [
    new Point(-1,-1),
    new Point(-1,0),
    new Point(0,0),
    new Point(1,0),
];
/**
 * POSITION: 2
 * +-----+-----+-----+-----+-----+-----+
 * |     | -2  | -1  |  0  | +1  | +2  |
 * +-----+-----+-----+-----+-----+-----+
 * | -2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | -1  |     |     |  x  |  x  |     |
 * +-----+-----+-----+-----+-----+-----+
 * |  0  |     |     |  x  |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +1  |     |     |  x  |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 */
const J_P2 = [
    new Point(0,1),
    new Point(0,0),
    new Point(0,-1),
    new Point(1,-1),
];
/**
 * POSITION: 3 (Flipped Snowwhite)
 * +-----+-----+-----+-----+-----+-----+
 * |     | -2  | -1  |  0  | +1  | +2  |
 * +-----+-----+-----+-----+-----+-----+
 * | -2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * | -1  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 * |  0  |     |  x  |  x  |  x  |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +1  |     |     |     |  x  |     |
 * +-----+-----+-----+-----+-----+-----+
 * | +2  |     |     |     |     |     |
 * +-----+-----+-----+-----+-----+-----+
 */
const J_P3 = [
    new Point(-1,0),
    new Point(0,0),
    new Point(1,0),
    new Point(1,1),
];

export class TetrominoJ implements Tetromino {

    private positionsPoints: Point[][] = [J_P0, J_P1, J_P2, J_P3];

    position: number;

    get points(): Point[] {
        return this.positionsPoints[this.position];
    }

    constructor() {
        this.position = 0;
    }

    rotateLeft(): void {
        this.position -= 1;
    }

    rotateRight(): void {
        this.position += 1;
    }
}